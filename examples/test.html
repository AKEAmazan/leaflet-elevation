<!DOCTYPE html>
<html>
<head>
    <title>Leaflet-elevation Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/@raruto/leaflet-elevation/dist/leaflet-elevation.css" />
    <style>
        body { margin:0; padding:0; }
        #content { width: 80%; margin: 0 auto; }
        .map { height: 400px; width:100%; }
        .elev { height: 200px; width:100%; }
    </style>
</head>
<body>
<div id="content">

<div id="map-1" class="map"></div>
<div id="mapelevation-1" class="elev"></div>
<div id="map-2" class="map"></div>
<div id="mapelevation-2" class="elev"></div>

<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
<script src="https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js"></script>
<script src="../dist/leaflet-elevation.js"></script>
<script>

var serviceUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
var route1 = 'via-emilia.gpx';
var route2 = 'via-aurelia.gpx';

// function initmap1()
// {
    // Initialize the map.
    var map1 = L.map('map-1');
    var basemap1 = L.tileLayer(serviceUrl, { maxZoom: 20 }).addTo(map1);

    var gpxLayer1 = omnivore.gpx(route1, null)
        .on('ready', function() {
            map1.fitBounds(gpxLayer1.getBounds());
        })
        .addTo(map1);

    var elevation_options1 = {
        elevationDiv: '#mapelevation-1',
        followMarker: false,
        downloadLink: false,
        summary: false,
    };
    var controlElevation1 = L.control.elevation(elevation_options1).addTo(map1);
    controlElevation1.load(route1);
// }
//
// function initmap2()
// {
    // Initialize the map.
    var map2 = L.map('map-2');
    var basemap2 = L.tileLayer(serviceUrl, { maxZoom: 20 }).addTo(map2);

    var gpxLayer2 = omnivore.gpx(route2, null)
        .on('ready', function() {
            map2.fitBounds(gpxLayer2.getBounds());
        })
        .addTo(map2);

    var elevation_options2 = {
        elevationDiv: '#mapelevation-2',
        followMarker: false,
        downloadLink: false,
        summary: false,
    };
    var controlElevation2 = L.control.elevation(elevation_options2).addTo(map2);
    controlElevation2.load(route2);
// }
//
// initmap1();
// initmap2();

</script>

</div>
</body>
</html>
